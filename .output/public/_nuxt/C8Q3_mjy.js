import{d as A,aV as O,r as v,k as b,aI as N,x as o,ad as y,Y as c,z as x,V as S,O as f,B,U as P,A as j,y as s,as as g,_ as z}from"#entry";const D=["value"],E=["value"],_={class:"buttons"},$=["title"],q=["title"],R=A({inheritAttrs:!1,__name:"InputTextbox",props:{modelValue:{type:String,required:!0,default:""},type:{type:String,default:"input"},tooltipTimeout:{type:Number,default:2e3},showCopyButton:{type:Boolean,default:!1},showShareButton:{type:Boolean,default:!1},shareParams:{type:Object,default:()=>({})},copyButtonTitle:{type:String,default:"Copy text"},selectAllOnFocus:{type:Boolean,default:!1}},emits:["update:modelValue","copySuccess","copyFail"],setup(e,{emit:k}){const r=k,l=e,{share:w,isSupported:T}=O(),t=v(!1),a=v(!1),u=v(),V=b(()=>l.tooltipTimeout),p=b(()=>({title:"",text:"",buttonTitle:"Share text",...l.shareParams}));function m(n){r("update:modelValue",n)}const C=N(()=>{a.value=!1,t.value=!1},V.value);async function I(){a.value=!0,await C();try{await navigator.clipboard.writeText(l.modelValue),t.value=!0,r("copySuccess")}catch{t.value=!1,r("copyFail")}}function F(){w({title:p.value.title,text:p.value.text,url:l.modelValue})}function h(){l.selectAllOnFocus&&u.value&&u.value.setSelectionRange(0,u.value.value.length)}return(n,i)=>(s(),o("div",{class:y(["text-box",{"two-button":e.showCopyButton&&e.showShareButton}])},[e.type==="input"?(s(),o("input",S({key:0,ref_key:"input",ref:u,class:"text interactive",type:"text"},n.$attrs,{value:e.modelValue,onInput:i[0]||(i[0]=d=>m(d.target.value)),onFocus:h}),null,16,D)):e.type==="textarea"?(s(),o("textarea",S({key:1,ref_key:"input",ref:u,class:"text interactive",value:e.modelValue},n.$attrs,{onInput:i[1]||(i[1]=d=>m(d.target.value)),onFocus:h}),"    ",16,E)):c("",!0),x("div",_,[e.showShareButton&&f(T)?(s(),o("button",{key:0,title:p.value.buttonTitle,class:"button share pointer",type:"button",onClick:F},[B(f(g),{icon:"share",class:"icon"})],8,$)):c("",!0),e.showCopyButton?(s(),o(P,{key:1},[x("button",{title:e.copyButtonTitle,class:y(["button copy pointer",{success:t.value&&a.value,fail:!t.value&&a.value,visible:t.value}]),type:"button",onClick:I},[B(f(g),{icon:"copy",class:"icon"})],10,q),a.value?(s(),o("span",{key:0,class:y(["tooltip",{success:t.value&&a.value,fail:!t.value&&a.value,visible:t.value}])},j(t.value?"Copied!":"Error :("),3)):c("",!0)],64)):c("",!0)])],2))}}),Y=Object.assign(z(R,[["__scopeId","data-v-ae49182a"]]),{__name:"InputTextbox"});export{Y as I};
