import{d as A,aB as N,r as d,i as b,ah as O,o,c as s,t as x,A as c,a as S,j as y,f as B,F as P,O as f,Q as j,ac as g,_ as D}from"./index-CkVLQWri.js";const E=["value"],$=["value"],q={class:"buttons"},z=["title"],Q=["title"],R=A({inheritAttrs:!1,__name:"InputTextbox",props:{modelValue:{type:String,required:!0,default:""},type:{type:String,default:"input"},tooltipTimeout:{type:Number,default:2e3},showCopyButton:{type:Boolean,default:!1},showShareButton:{type:Boolean,default:!1},shareParams:{type:Object,default:()=>({})},copyButtonTitle:{type:String,default:"Copy text"},selectAllOnFocus:{type:Boolean,default:!1}},emits:["update:modelValue","copySuccess","copyFail"],setup(e,{emit:w}){const r=w,l=e,{share:k,isSupported:T}=N(),t=d(!1),a=d(!1),u=d(),C=b(()=>l.tooltipTimeout),p=b(()=>({title:"",text:"",buttonTitle:"Share text",...l.shareParams}));function m(n){r("update:modelValue",n)}const F=O(()=>{a.value=!1,t.value=!1},C.value);async function V(){a.value=!0,await F();try{await navigator.clipboard.writeText(l.modelValue),t.value=!0,r("copySuccess")}catch{t.value=!1,r("copyFail")}}function I(){k({title:p.value.title,text:p.value.text,url:l.modelValue})}function h(){l.selectAllOnFocus&&u.value&&u.value.setSelectionRange(0,u.value.value.length)}return(n,i)=>(o(),s("div",{class:f(["text-box",{"two-button":e.showCopyButton&&e.showShareButton}])},[e.type==="input"?(o(),s("input",x({key:0,ref_key:"input",ref:u,class:"text interactive",type:"text"},n.$attrs,{value:e.modelValue,onInput:i[0]||(i[0]=v=>m(v.target.value)),onFocus:h}),null,16,E)):e.type==="textarea"?(o(),s("textarea",x({key:1,ref_key:"input",ref:u,class:"text interactive",value:e.modelValue},n.$attrs,{onInput:i[1]||(i[1]=v=>m(v.target.value)),onFocus:h}),"    ",16,$)):c("",!0),S("div",q,[e.showShareButton&&y(T)?(o(),s("button",{key:0,title:p.value.buttonTitle,class:"button share pointer",type:"button",onClick:I},[B(y(g),{icon:"share",class:"icon"})],8,z)):c("",!0),e.showCopyButton?(o(),s(P,{key:1},[S("button",{title:e.copyButtonTitle,class:f(["button copy pointer",{success:t.value&&a.value,fail:!t.value&&a.value,visible:t.value}]),type:"button",onClick:V},[B(y(g),{icon:"copy",class:"icon"})],10,Q),a.value?(o(),s("span",{key:0,class:f(["tooltip",{success:t.value&&a.value,fail:!t.value&&a.value,visible:t.value}])},j(t.value?"Copied!":"Error :("),3)):c("",!0)],64)):c("",!0)])],2))}}),H=D(R,[["__scopeId","data-v-ae49182a"]]);export{H as I};
