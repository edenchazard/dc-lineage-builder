import{d as h,$ as v,r as _,u as w,G as k,a7 as y,a1 as V,a2 as b,a3 as L,S as x,o as r,c as i,a as u,f as l,j as c,X as F,w as B,A as d,b as I,F as C,a8 as N,e as T,_ as R}from"./index-CkVLQWri.js";import{L as E}from"./LineageView-BQ2nDoQ3.js";import{I as S}from"./InputTextbox-10S61aZ7.js";import{F as U}from"./FeedbackPanel-DWRWo6y_.js";import"./DragonPortrait-D5BSQTBz.js";import"./LineageWrapper-D2uaZU0p.js";const $={id:"text",class:"content-limit constrain-width"},j={key:0,id:"options"},q=h({__name:"LineageView",setup(A){const m=v(),a=_(null),o=m.params.hash,s=N(o),t=w("status"),f=k({showInterface:!1,showLabels:!0,disabled:!0});return y(()=>a.value=null),V(async()=>{var n;if(t.value)try{t.value.info("Loading lineage... For big lineages, this can sometimes take a moment to load.");const e=await b(o);t.value.close(()=>a.value=e.lineage)}catch(e){if(e instanceof L&&((n=e.response)==null?void 0:n.status)===404){t.value.error("The lineage couldn't be found.");return}t.value.error("Sorry, an error has occurred.")}}),(n,e)=>{const p=x("router-link");return r(),i(C,null,[e[2]||(e[2]=u("h1",{class:"sr-only"},"Viewing lineage",-1)),u("div",$,[l(U,{ref_key:"status",ref:t,"global-settings":{showDismiss:!1}},null,512),a.value!=null?(r(),i("div",j,[l(S,{id:"share-link",modelValue:c(s),"onUpdate:modelValue":e[0]||(e[0]=g=>F(s)?s.value=g:null),type:"input","show-copy-button":"","show-share-button":"",readonly:"","select-all-on-focus":""},null,8,["modelValue"]),l(p,{rel:"nofollow",to:{path:"/",query:{template:c(o)}}},{default:B(()=>e[1]||(e[1]=[T("Import into editor")])),_:1},8,["to"])])):d("",!0)]),a.value!=null?(r(),I(E,{key:0,root:a.value,config:f},null,8,["root","config"])):d("",!0)],64)}}}),H=R(q,[["__scopeId","data-v-4ca96d1a"]]);export{H as default};
